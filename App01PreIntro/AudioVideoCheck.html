{{ extends 'global/Page.html' }}
{{ block title }}Equipment Check{{ endblock }}

{{ block content }}

 <style>
      @import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");

      /* Applying Roboto font to all elements */
      .my-box {
        border: 1px solid #ccc;
        padding: 10px;
        background-color: #f9f9f9;
      }
      .hidden {
        display: none;
      }

      .buttonvis {
        padding: 10px 20px;
        font-size: 16px;
        text-align: center;
        text-decoration: none;
        cursor: pointer;
        border: 2px solid #3498db;
        border-radius: 5px;
        color: black;
        background-color: #3498db;
      }

      body {
        /* min-width: 1000px;

              min-height: 800px;
              margin-left: 0px;
              margin-top: 0px; */
        color: black;
      }
      .video-container {
        position: relative;
        height: 88%;
        margin-left: 0px;
        margin-right: 10px;
        width: 65%;
      }

      .container-intervention {
        position: relative;
        height: 88%;
        width: 35%;
        margin-left: 10px;
        text-align: left;
        display: none;
      }

      #jitsi-surface {
        top: 0;
        bottom: 0;
        left: 0;
        right: 0px;
        max-width: 1200px;
      }

      .flex-container {
        right: 0px;
        display: flex;
        flex-direction: row;
        width: flex;
        height: flex;
      }

      p {
        font-size: 16px;
      }

      div {
        font-size: 16px;
      }
        #video-controls {
            margin-top: 10px;
        }
        button {
            margin-right: 5px;
        }
        #black-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: black;
            z-index: 10;
        }
    </style>


    <div class="my-box">

    <p>
        During the study, you will take part in a <b>virtual group </b> meeting. <br/>
        We will therefore check your technical requirements to ensure that the camera, audio, microphone and video work properly.
      <br />
        Camera and microphone test <br/>
        <p><b>Please test now whether your camera and microphone work properly by recording a short video. This video
        is only recorded locally on your device and is not stored on an external server.</b> </p>
        <br /><b>Short instruction to record a video: </b><br/>
        <p>If you click on the blue “Start recording” button, you start recording a video message and the color of the button changes to red.
            The recording stops automatically after a maximum of 5 seconds. You can also stop the recording manually by clicking
            on the blue “Stop recording” button. After you tested your camera and microphone, <b>please confirm the statement below the video recording.</b> </p>

       <div> Placeholder for Video recording </div>
        <br/>
        <p>Before you can continue, please confirm the following: (If you don’t confirm the statement, you cannot proceed with this study)<br/><br/><p>

        <p> <b> MY CAMERA AND MICROPHONE SEEM TO WORK FINE. </b><p>
        {{ formfield 'micAndCameraCheck'}}

        <p> <b>Audio and video test: </b></p>

        <p> To do the audio and video test, first please watch and listen to the
            following video and then answer the two questions. (You cannot proceed with this study,
            if you do not pass the audio and video test.)</p> <br/>

        <video id="video" width="600" controls poster="{% static 'black.jpeg'%}">
            <source src="{% static 'AudioundVideoTest.mp4' %}" type="video/mp4">
            Your browser does not support the video tag.
        </video>
        <script>
         const video = document.getElementById('video');
            const blackScreenPoster = '{% static 'black.jpeg'%}'; // Update this path to your black image
            // Event listener for when the video ends
            video.addEventListener('ended', function() {
                // Reset the poster to the black screen
                video.poster = blackScreenPoster;
                // Show the poster image
                video.load();
            });
        </script>

         {{formfield 'colorVideo'}} <br/>
        {{formfield 'numberVideo'}}
    </div>
{{next_button}}
{{ endblock }}
